# Maintainer: felix_feuerigel <https://github.com/FelixFeuerigel/arch-pkgbuilds>

pkgname=fefe-base
pkgdesc="Base system configuration for fefe systems"

url="https://github.com/FelixFeuerigel/arch-pkgbuilds"
license=("unknown")
arch=("any")
groups=()

pkgver=0.0.1
pkgrel=1
epoch=0
groups=()

depends=()
makedepends=()
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()

backup=()
options=()
install=fefe-base.install
changelog=
source=(
	"hosts"
	"locale.conf"
    "locale.gen"
	"pacman.conf"
	"reflector.conf"
	"vconsole.conf"
)
#TODO: add /etc/sudoers and x11 keyboard config
#TODO: add a systemd.service and .timer for "pacman -Syuw" to periodicaly download updates without installing.
noextract=()
b2sums=()
validpgpkeys=()

#prepare() {
#}

#build() {
#}

#check() {
#}

package() {
	# Base packages
	depends=(
		base
		linux
		linux-firmware
	)
	# Base Devel
	depends+=(
		archlinux-keyring
		autoconf
		automake
		binutils
		bison
		fakeroot
		file
		findutils
		flex
		gawk
		gcc
		gettext
		grep
		groff
		gzip
		libtool
		m4
		make
		pacman
		patch
		pkgconf
		sed
		sudo
		texinfo
		which
	)
	# for building packages
	depends+=( 
		pacman-contrib
		devtools
	)
	# CLI tools
	depends+=(
		networkmanager
		sof-firmware
		man-db
		man-pages
		nano
		neovim
		htop
		bottom
		git
		smbclient
		reflector
		dialog
	)
	# audio
	depends+=(
		wireplumber
		pipewire
		lib32-pipewire
		pipewire-alsa
		pipewire-pulse
		pipewire-jack
		lib32-pipewire-jack
	)
	# bluetooth
	depends+=(
		bluez
		bluez-utils
		blueman
	)

	install -Dm 0644 hosts "$pkgdir/etc/hosts.fefe"
	install -Dm 0644 locale.conf "$pkgdir/etc/locale.conf.fefe"
	install -Dm 0644 locale.gen "$pkgdir/etc/locale.gen.fefe"
	install -Dm 0644 reflector.conf "$pkgdir/etc/xdg/reflector/reflector.conf.fefe"
	install -Dm 0644 pacman.conf "$pkgdir/etc/pacman.conf.fefe"
	install -Dm 0644 vconsole.conf "$pkgdir/etc/vconsole.conf.fefe"
    #install -Dm 0640 sudoers.wheel "$pkgdir/etc/sudoers"
	#install -Dm 0755 mdaffin-base.sh "$pkgdir/etc/profile.d/mdaffin-base.sh"
}
